<ion-header>
  <ion-toolbar>
    <ion-title>Admin</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="authService.filterForm" (submit)="runFilter()">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label>Select a date to filter</ion-label>
            <ion-datetime
              displayFormat="DDDD, DD MM YYYY"
              placeholder="Start date"
              [ngModel]="startDate"
              (ionChange)="startDateChanged($event)"
              formControlName="date"
            ></ion-datetime>
            <ion-datetime
              displayFormat="DDDD, DD MM YYYY"
              placeholder="End date"
              [ngModel]="endDate"
              (ionChange)="endDateChanged($event)"
              formControlName="date"
            ></ion-datetime>
          </ion-item>
        </ion-col>
        <ion-col size="2">
          <ion-item>
            <ion-button type="submit">Run</ion-button>
          </ion-item>
        </ion-col>
        <ion-col size="2">
          <ion-item>
            <ion-select interface="popover" placeholder="Filter" formControlName="status">
              <ion-select-option value="waiting">Waiting</ion-select-option>
              <ion-select-option value="Booked">Booked</ion-select-option>
              <ion-select-option value="InService">In Service</ion-select-option>
              <ion-select-option value="Fixed">Complete</ion-select-option>
              <ion-select-option value="Collected">Collected</ion-select-option>
              <ion-select-option value="Unrepairable">Unrepairable</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
      <ion-card
        *ngFor="let services of allServices | async"
        routerLink="/admin-detail/{{services.date}}/{{services.docId}}/{{services.uid}}/{{services.id}}"
      >
        <ion-card-header>
          {{ services.date }}
        </ion-card-header>
        <ion-card-content>
          {{ services.carPlateNumb }}
        </ion-card-content>
        <ion-card-content>
          {{ services.docId }}
        </ion-card-content>
        <ion-card-content>
          {{ services.uid }}
        </ion-card-content>
        <ion-card-content>
          {{ services.id }}
        </ion-card-content>
      </ion-card>
  </form>
</ion-content>
